import{d as O,u as z,r as P,o as W,c as F,a as J,b as l,e as n,f as o,t as u,g as k,w as C,h as D,i as j,F as E,j as G,k as K,l as Q,n as X}from"./index-kJ6JZcYt.js";const Y={class:"max-w-7xl mx-auto px-4 py-12 lg:min-h-screen"},Z={key:0,class:"text-center py-16 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},ee={key:1,class:"text-center py-16 text-red-600"},te={class:"text-sm text-gray-500 mt-2"},oe={key:2},le={key:0,class:"mb-20"},ne={class:"flex flex-col lg:flex-row gap-8"},se={class:"lg:w-2/3 relative overflow-hidden group"},ae=["src","alt"],re={key:1,class:"w-full h-96 bg-gray-200 flex items-center justify-center text-gray-500"},ie={class:"lg:w-1/3 flex flex-col justify-center"},ce={class:"text-sm text-gray-500 uppercase tracking-wider mb-3"},ge={class:"text-3xl font-light mb-4"},de={key:0,class:"text-gray-700 mb-6 line-clamp-4"},ue={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 mb-16"},be={class:"overflow-hidden mb-4"},me=["src","alt"],he={key:1,class:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-500"},pe={key:0,class:"text-sm text-gray-500 uppercase tracking-wider mb-2"},ve={class:"text-xl font-medium mb-3 group-hover:text-gray-700 transition-colors"},fe={class:"text-gray-600 mb-4 line-clamp-2"},xe={key:2,class:"text-center text-gray-500 mb-16"},we={key:3,class:"flex justify-center items-center space-x-2 mt-12"},ye=["onClick"],_e=`
    query getBlogs {
        posts {
            nodes {
                title # Top-level title (might differ from blog.blogContent.title)
                slug
                ... on WithAcfBlog {
                    blog {
                        blogContent {
                            thumbnail {
                                node {
                                    sourceUrl
                                    altText
                                    id
                                }
                            }
                            title # Nested title within blog content
                            teaser
                            publishedDate
                            author
                            category
                            content # Full content (might not be needed for index page)
                        }
                        isFeatured
                    }
                }
            }
        }
    }
`,N=6,Te=O({__name:"IndexPage",setup(ke){const b=z("blogIndexData",[]),h=P(!0),T=P(null);W(()=>{b.value&&b.value.length>0?h.value=!1:h.value=!0,(async()=>{var s,i;const e=h.value;T.value=null;try{const c=await K.post("https://admin.alphatalentmanagement.com/graphql",{query:_e});if((i=(s=c.data.data)==null?void 0:s.posts)!=null&&i.nodes){const B=c.data.data.posts.nodes.filter(A=>{var p;return(p=A.blog)==null?void 0:p.blogContent});b.value=B}else console.warn("No blog posts found or unexpected data structure:",c.data)}catch(c){console.error("Error fetching blog posts:",c),T.value=c}finally{e&&(h.value=!1)}})()});const M=P(1),L=F(()=>{const r=b.value.filter(e=>{var s;return!((s=e.blog)!=null&&s.isFeatured)}).length;return Math.ceil(r/N)}),a=F(()=>b.value.find(r=>{var e;return(e=r.blog)==null?void 0:e.isFeatured})||null),U=F(()=>{const r=b.value.filter(s=>{var i;return!((i=s.blog)!=null&&i.isFeatured)}).sort((s,i)=>new Date(i.blog.blogContent.publishedDate).getTime()-new Date(s.blog.blogContent.publishedDate).getTime()),e=(M.value-1)*N;return r.slice(e,e+N)}),H=r=>{M.value=r,window.scrollTo({top:0,behavior:"smooth"})},$=r=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(r).toLocaleDateString("en-US",e)};return J({title:"Blog - Alpha Talent Management",meta:[{name:"description",content:"Read the latest news, articles, and insights from Alpha Talent Management."},{property:"og:title",content:"Blog - Alpha Talent Management"},{property:"og:description",content:"Read the latest news, articles, and insights from Alpha Talent Management."},{property:"og:type",content:"website"},{property:"og:image",content:"/images/AATM_logo.png"},{property:"og:url",content:window.location.href},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:"Blog - Alpha Talent Management"},{name:"twitter:description",content:"Read the latest news, articles, and insights from Alpha Talent Management."},{name:"twitter:image",content:"/images/AATM_logo.png"}],link:[{rel:"canonical",href:window.location.href}]}),(r,e)=>{var i,c,B,A,p;const s=Q("router-link");return l(),n("div",Y,[h.value?(l(),n("div",Z,e[0]||(e[0]=[o("p",null,"Loading blog posts...",-1)]))):T.value?(l(),n("div",ee,[e[1]||(e[1]=o("p",null,"Failed to load blog posts. Please try again later.",-1)),o("p",te,u(T.value.message),1)])):(l(),n("div",oe,[e[5]||(e[5]=o("div",{class:"mb-16"},[o("h1",{class:"text-4xl font-light uppercase mb-6 tracking-wide"},"BLOG"),o("div",{class:"w-24 h-0.5 bg-black"})],-1)),a.value&&((i=a.value.blog)!=null&&i.blogContent)?(l(),n("div",le,[o("div",ne,[o("div",se,[k(s,{to:`/blogs/${a.value.slug}`,class:"block aspect-w-1 aspect-h-1 overflow-hidden"},{default:C(()=>{var t,m,v,f,x,g,d,w,y,_;return[(f=(v=(m=(t=a.value.blog)==null?void 0:t.blogContent)==null?void 0:m.thumbnail)==null?void 0:v.node)!=null&&f.sourceUrl?(l(),n("img",{key:0,src:a.value.blog.blogContent.thumbnail.node.sourceUrl,alt:((w=(d=(g=(x=a.value.blog)==null?void 0:x.blogContent)==null?void 0:g.thumbnail)==null?void 0:d.node)==null?void 0:w.altText)||((_=(y=a.value.blog)==null?void 0:y.blogContent)==null?void 0:_.title),class:"w-full h-auto object-cover transition-transform duration-700 group-hover:scale-105"},null,8,ae)):(l(),n("div",re," No Image Available "))]}),_:1},8,["to"]),e[2]||(e[2]=o("div",{class:"absolute top-4 left-4 bg-black text-white text-xs uppercase tracking-widest py-1 px-3"}," Featured ",-1))]),o("div",ie,[o("div",ce,u($(a.value.blog.blogContent.publishedDate)),1),o("h2",ge,u(((B=(c=a.value.blog)==null?void 0:c.blogContent)==null?void 0:B.title)||a.value.title),1),(p=(A=a.value.blog)==null?void 0:A.blogContent)!=null&&p.teaser?(l(),n("p",de,u(a.value.blog.blogContent.teaser),1)):D("",!0),k(s,{to:`/blogs/${a.value.slug}`,class:"inline-flex items-center text-black border-b border-black pb-1 hover:text-gray-700 hover:border-gray-700 transition-colors"},{default:C(()=>e[3]||(e[3]=[j(" Read More "),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])),_:1},8,["to"])])])])):D("",!0),U.value.length>0?(l(),n("div",ue,[(l(!0),n(E,null,G(U.value,t=>{var m,v,f,x;return l(),n("div",{key:t.slug,class:"group"},[o("div",be,[k(s,{to:`/blogs/${t.slug}`,class:"block aspect-w-1 aspect-h-1 overflow-hidden w-full"},{default:C(()=>{var g,d,w,y,_,I,R,S,V,q;return[(y=(w=(d=(g=t.blog)==null?void 0:g.blogContent)==null?void 0:d.thumbnail)==null?void 0:w.node)!=null&&y.sourceUrl?(l(),n("img",{key:0,src:t.blog.blogContent.thumbnail.node.sourceUrl,alt:((S=(R=(I=(_=t.blog)==null?void 0:_.blogContent)==null?void 0:I.thumbnail)==null?void 0:R.node)==null?void 0:S.altText)||((q=(V=t.blog)==null?void 0:V.blogContent)==null?void 0:q.title),class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,me)):(l(),n("div",he," No Image Available "))]}),_:2},1032,["to"])]),(v=(m=t.blog)==null?void 0:m.blogContent)!=null&&v.publishedDate?(l(),n("div",pe,u($(t.blog.blogContent.publishedDate)),1)):D("",!0),o("h3",ve,[k(s,{to:`/blogs/${t.slug}`},{default:C(()=>{var g,d;return[j(u(((d=(g=t.blog)==null?void 0:g.blogContent)==null?void 0:d.title)||t.title),1)]}),_:2},1032,["to"])]),o("p",fe,u((x=(f=t.blog)==null?void 0:f.blogContent)==null?void 0:x.teaser),1),k(s,{to:`/blogs/${t.slug}`,class:"inline-flex items-center text-black text-sm border-b border-black pb-0.5 hover:text-gray-700 hover:border-gray-700 transition-colors"},{default:C(()=>e[4]||(e[4]=[j(" Continue Reading "),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])),_:2},1032,["to"])])}),128))])):(l(),n("div",xe,"No blog posts available.")),L.value>1?(l(),n("div",we,[(l(!0),n(E,null,G(L.value,t=>(l(),n("button",{key:t,class:X(["w-10 h-10 flex items-center justify-center border border-gray-300 hover:border-black transition-colors",{"bg-black text-white":M.value===t}]),onClick:m=>H(t)},u(t),11,ye))),128))])):D("",!0)]))])}}});export{Te as default};
