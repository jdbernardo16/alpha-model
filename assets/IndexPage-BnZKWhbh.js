import{d as R,r as C,o as z,a as W,c as B,b as s,e as n,f as l,t as d,g as y,w,h as D,i as N,F as G,j as H,k as J,n as K}from"./index-C6BRd3FG.js";const Q={class:"max-w-7xl mx-auto px-4 py-12 lg:min-h-screen"},X={key:0,class:"text-center py-16 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},Y={key:1,class:"text-center py-16 text-red-600"},Z={class:"text-sm text-gray-500 mt-2"},ee={key:2},te={key:0,class:"mb-20"},oe={class:"flex flex-col lg:flex-row gap-8"},le={class:"lg:w-2/3 relative overflow-hidden group"},se=["src","alt"],ne={key:1,class:"w-full h-96 bg-gray-200 flex items-center justify-center text-gray-500"},ae={class:"lg:w-1/3 flex flex-col justify-center"},re={class:"text-sm text-gray-500 uppercase tracking-wider mb-3"},ie={class:"text-3xl font-light mb-4"},ce={key:0,class:"text-gray-700 mb-6 line-clamp-4"},ue={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 mb-16"},de={class:"overflow-hidden mb-4"},ge=["src","alt"],be={key:1,class:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-500"},me={key:0,class:"text-sm text-gray-500 uppercase tracking-wider mb-2"},he={class:"text-xl font-medium mb-3 group-hover:text-gray-700 transition-colors"},ve={class:"text-gray-600 mb-4 line-clamp-2"},pe={key:2,class:"text-center text-gray-500 mb-16"},xe={key:3,class:"flex justify-center items-center space-x-2 mt-12"},fe=["onClick"],_e=`
    query getBlogs {
        posts {
            nodes {
                title # Top-level title (might differ from blog.blogContent.title)
                slug
                ... on WithAcfBlog {
                    blog {
                        blogContent {
                            thumbnail {
                                node {
                                    sourceUrl
                                    altText
                                    id
                                }
                            }
                            title # Nested title within blog content
                            teaser
                            publishedDate
                            author
                            category
                            content # Full content (might not be needed for index page)
                        }
                        isFeatured
                    }
                }
            }
        }
    }
`,P=6,ke=R({__name:"IndexPage",setup(ye){const g=C([]),F=C(!0),k=C(null);z(async()=>{var r,e;F.value=!0,k.value=null;try{const o=await W.post("https://admin.alphatalentmanagement.com/graphql",{query:_e});(e=(r=o.data.data)==null?void 0:r.posts)!=null&&e.nodes?g.value=o.data.data.posts.nodes.filter(i=>{var m;return(m=i.blog)==null?void 0:m.blogContent}):(console.warn("No blog posts found or unexpected data structure:",o.data),g.value=[])}catch(o){console.error("Error fetching blog posts:",o),k.value=o,g.value=[]}finally{F.value=!1}});const j=C(1),T=B(()=>{const r=g.value.filter(e=>{var o;return!((o=e.blog)!=null&&o.isFeatured)}).length;return Math.ceil(r/P)}),a=B(()=>g.value.find(r=>{var e;return(e=r.blog)==null?void 0:e.isFeatured})||null),U=B(()=>{const r=g.value.filter(o=>{var i;return!((i=o.blog)!=null&&i.isFeatured)}).sort((o,i)=>new Date(i.blog.blogContent.publishedDate).getTime()-new Date(o.blog.blogContent.publishedDate).getTime()),e=(j.value-1)*P;return r.slice(e,e+P)}),O=r=>{j.value=r,window.scrollTo({top:0,behavior:"smooth"})},$=r=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(r).toLocaleDateString("en-US",e)};return(r,e)=>{var i,m,L,M,I;const o=J("router-link");return s(),n("div",Q,[F.value?(s(),n("div",X,e[0]||(e[0]=[l("p",null,"Loading blog posts...",-1)]))):k.value?(s(),n("div",Y,[e[1]||(e[1]=l("p",null,"Failed to load blog posts. Please try again later.",-1)),l("p",Z,d(k.value.message),1)])):(s(),n("div",ee,[e[5]||(e[5]=l("div",{class:"mb-16"},[l("h1",{class:"text-4xl font-light uppercase mb-6 tracking-wide"},"BLOG"),l("div",{class:"w-24 h-0.5 bg-black"})],-1)),a.value&&((i=a.value.blog)!=null&&i.blogContent)?(s(),n("div",te,[l("div",oe,[l("div",le,[y(o,{to:`/blogs/${a.value.slug}`,class:"block aspect-w-1 aspect-h-1 overflow-hidden"},{default:w(()=>{var t,b,h,v,p,c,u,x,f,_;return[(v=(h=(b=(t=a.value.blog)==null?void 0:t.blogContent)==null?void 0:b.thumbnail)==null?void 0:h.node)!=null&&v.sourceUrl?(s(),n("img",{key:0,src:a.value.blog.blogContent.thumbnail.node.sourceUrl,alt:((x=(u=(c=(p=a.value.blog)==null?void 0:p.blogContent)==null?void 0:c.thumbnail)==null?void 0:u.node)==null?void 0:x.altText)||((_=(f=a.value.blog)==null?void 0:f.blogContent)==null?void 0:_.title),class:"w-full h-auto object-cover transition-transform duration-700 group-hover:scale-105"},null,8,se)):(s(),n("div",ne," No Image Available "))]}),_:1},8,["to"]),e[2]||(e[2]=l("div",{class:"absolute top-4 left-4 bg-black text-white text-xs uppercase tracking-widest py-1 px-3"}," Featured ",-1))]),l("div",ae,[l("div",re,d($(a.value.blog.blogContent.publishedDate)),1),l("h2",ie,d(((L=(m=a.value.blog)==null?void 0:m.blogContent)==null?void 0:L.title)||a.value.title),1),(I=(M=a.value.blog)==null?void 0:M.blogContent)!=null&&I.teaser?(s(),n("p",ce,d(a.value.blog.blogContent.teaser),1)):D("",!0),y(o,{to:`/blogs/${a.value.slug}`,class:"inline-flex items-center text-black border-b border-black pb-1 hover:text-gray-700 hover:border-gray-700 transition-colors"},{default:w(()=>e[3]||(e[3]=[N(" Read More "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])),_:1},8,["to"])])])])):D("",!0),U.value.length>0?(s(),n("div",ue,[(s(!0),n(G,null,H(U.value,t=>{var b,h,v,p;return s(),n("div",{key:t.slug,class:"group"},[l("div",de,[y(o,{to:`/blogs/${t.slug}`,class:"block aspect-w-1 aspect-h-1 overflow-hidden w-full"},{default:w(()=>{var c,u,x,f,_,S,V,q,A,E;return[(f=(x=(u=(c=t.blog)==null?void 0:c.blogContent)==null?void 0:u.thumbnail)==null?void 0:x.node)!=null&&f.sourceUrl?(s(),n("img",{key:0,src:t.blog.blogContent.thumbnail.node.sourceUrl,alt:((q=(V=(S=(_=t.blog)==null?void 0:_.blogContent)==null?void 0:S.thumbnail)==null?void 0:V.node)==null?void 0:q.altText)||((E=(A=t.blog)==null?void 0:A.blogContent)==null?void 0:E.title),class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,ge)):(s(),n("div",be," No Image Available "))]}),_:2},1032,["to"])]),(h=(b=t.blog)==null?void 0:b.blogContent)!=null&&h.publishedDate?(s(),n("div",me,d($(t.blog.blogContent.publishedDate)),1)):D("",!0),l("h3",he,[y(o,{to:`/blogs/${t.slug}`},{default:w(()=>{var c,u;return[N(d(((u=(c=t.blog)==null?void 0:c.blogContent)==null?void 0:u.title)||t.title),1)]}),_:2},1032,["to"])]),l("p",ve,d((p=(v=t.blog)==null?void 0:v.blogContent)==null?void 0:p.teaser),1),y(o,{to:`/blogs/${t.slug}`,class:"inline-flex items-center text-black text-sm border-b border-black pb-0.5 hover:text-gray-700 hover:border-gray-700 transition-colors"},{default:w(()=>e[4]||(e[4]=[N(" Continue Reading "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])),_:2},1032,["to"])])}),128))])):(s(),n("div",pe,"No blog posts available.")),T.value>1?(s(),n("div",xe,[(s(!0),n(G,null,H(T.value,t=>(s(),n("button",{key:t,class:K(["w-10 h-10 flex items-center justify-center border border-gray-300 hover:border-black transition-colors",{"bg-black text-white":j.value===t}]),onClick:b=>O(t)},d(t),11,fe))),128))])):D("",!0)]))])}}});export{ke as default};
