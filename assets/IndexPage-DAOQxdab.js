import{d as R,u as z,r as N,o as W,c as T,a as l,b as s,e as o,t as d,f as k,w as C,g as F,h as L,F as G,i as H,j as J,k as K,n as Q}from"./index-D-ww7N1e.js";const X={class:"max-w-7xl mx-auto px-4 py-12 lg:min-h-screen"},Y={key:0,class:"text-center py-16 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},Z={key:1,class:"text-center py-16 text-red-600"},ee={class:"text-sm text-gray-500 mt-2"},te={key:2},oe={key:0,class:"mb-20"},le={class:"flex flex-col lg:flex-row gap-8"},se={class:"lg:w-2/3 relative overflow-hidden group"},ne=["src","alt"],ae={key:1,class:"w-full h-96 bg-gray-200 flex items-center justify-center text-gray-500"},re={class:"lg:w-1/3 flex flex-col justify-center"},ie={class:"text-sm text-gray-500 uppercase tracking-wider mb-3"},ce={class:"text-3xl font-light mb-4"},ue={key:0,class:"text-gray-700 mb-6 line-clamp-4"},ge={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 mb-16"},de={class:"overflow-hidden mb-4"},be=["src","alt"],he={key:1,class:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-500"},ve={key:0,class:"text-sm text-gray-500 uppercase tracking-wider mb-2"},me={class:"text-xl font-medium mb-3 group-hover:text-gray-700 transition-colors"},fe={class:"text-gray-600 mb-4 line-clamp-2"},xe={key:2,class:"text-center text-gray-500 mb-16"},pe={key:3,class:"flex justify-center items-center space-x-2 mt-12"},_e=["onClick"],ye=`
    query getBlogs {
        posts {
            nodes {
                title # Top-level title (might differ from blog.blogContent.title)
                slug
                ... on WithAcfBlog {
                    blog {
                        blogContent {
                            thumbnail {
                                node {
                                    sourceUrl
                                    altText
                                    id
                                }
                            }
                            title # Nested title within blog content
                            teaser
                            publishedDate
                            author
                            category
                            content # Full content (might not be needed for index page)
                        }
                        isFeatured
                    }
                }
            }
        }
    }
`,U=6,Ce=R({__name:"IndexPage",setup(we){const b=z("blogIndexData",[]),v=N(!0),D=N(null);W(()=>{b.value&&b.value.length>0?v.value=!1:v.value=!0,(async()=>{var n,i;const e=v.value;D.value=null;try{const c=await J.post("https://admin.alphatalentmanagement.com/graphql",{query:ye});if((i=(n=c.data.data)==null?void 0:n.posts)!=null&&i.nodes){const P=c.data.data.posts.nodes.filter(B=>{var m;return(m=B.blog)==null?void 0:m.blogContent});b.value=P}else console.warn("No blog posts found or unexpected data structure:",c.data)}catch(c){console.error("Error fetching blog posts:",c),D.value=c}finally{e&&(v.value=!1)}})()});const j=N(1),$=T(()=>{const r=b.value.filter(e=>{var n;return!((n=e.blog)!=null&&n.isFeatured)}).length;return Math.ceil(r/U)}),a=T(()=>b.value.find(r=>{var e;return(e=r.blog)==null?void 0:e.isFeatured})||null),I=T(()=>{const r=b.value.filter(n=>{var i;return!((i=n.blog)!=null&&i.isFeatured)}).sort((n,i)=>new Date(i.blog.blogContent.publishedDate).getTime()-new Date(n.blog.blogContent.publishedDate).getTime()),e=(j.value-1)*U;return r.slice(e,e+U)}),O=r=>{j.value=r,window.scrollTo({top:0,behavior:"smooth"})},M=r=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(r).toLocaleDateString("en-US",e)};return(r,e)=>{var i,c,P,B,m;const n=K("router-link");return l(),s("div",X,[v.value?(l(),s("div",Y,e[0]||(e[0]=[o("p",null,"Loading blog posts...",-1)]))):D.value?(l(),s("div",Z,[e[1]||(e[1]=o("p",null,"Failed to load blog posts. Please try again later.",-1)),o("p",ee,d(D.value.message),1)])):(l(),s("div",te,[e[5]||(e[5]=o("div",{class:"mb-16"},[o("h1",{class:"text-4xl font-light uppercase mb-6 tracking-wide"},"BLOG"),o("div",{class:"w-24 h-0.5 bg-black"})],-1)),a.value&&((i=a.value.blog)!=null&&i.blogContent)?(l(),s("div",oe,[o("div",le,[o("div",se,[k(n,{to:`/blogs/${a.value.slug}`,class:"block aspect-w-1 aspect-h-1 overflow-hidden"},{default:C(()=>{var t,h,f,x,p,u,g,_,y,w;return[(x=(f=(h=(t=a.value.blog)==null?void 0:t.blogContent)==null?void 0:h.thumbnail)==null?void 0:f.node)!=null&&x.sourceUrl?(l(),s("img",{key:0,src:a.value.blog.blogContent.thumbnail.node.sourceUrl,alt:((_=(g=(u=(p=a.value.blog)==null?void 0:p.blogContent)==null?void 0:u.thumbnail)==null?void 0:g.node)==null?void 0:_.altText)||((w=(y=a.value.blog)==null?void 0:y.blogContent)==null?void 0:w.title),class:"w-full h-auto object-cover transition-transform duration-700 group-hover:scale-105"},null,8,ne)):(l(),s("div",ae," No Image Available "))]}),_:1},8,["to"]),e[2]||(e[2]=o("div",{class:"absolute top-4 left-4 bg-black text-white text-xs uppercase tracking-widest py-1 px-3"}," Featured ",-1))]),o("div",re,[o("div",ie,d(M(a.value.blog.blogContent.publishedDate)),1),o("h2",ce,d(((P=(c=a.value.blog)==null?void 0:c.blogContent)==null?void 0:P.title)||a.value.title),1),(m=(B=a.value.blog)==null?void 0:B.blogContent)!=null&&m.teaser?(l(),s("p",ue,d(a.value.blog.blogContent.teaser),1)):F("",!0),k(n,{to:`/blogs/${a.value.slug}`,class:"inline-flex items-center text-black border-b border-black pb-1 hover:text-gray-700 hover:border-gray-700 transition-colors"},{default:C(()=>e[3]||(e[3]=[L(" Read More "),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])),_:1},8,["to"])])])])):F("",!0),I.value.length>0?(l(),s("div",ge,[(l(!0),s(G,null,H(I.value,t=>{var h,f,x,p;return l(),s("div",{key:t.slug,class:"group"},[o("div",de,[k(n,{to:`/blogs/${t.slug}`,class:"block aspect-w-1 aspect-h-1 overflow-hidden w-full"},{default:C(()=>{var u,g,_,y,w,S,V,q,A,E;return[(y=(_=(g=(u=t.blog)==null?void 0:u.blogContent)==null?void 0:g.thumbnail)==null?void 0:_.node)!=null&&y.sourceUrl?(l(),s("img",{key:0,src:t.blog.blogContent.thumbnail.node.sourceUrl,alt:((q=(V=(S=(w=t.blog)==null?void 0:w.blogContent)==null?void 0:S.thumbnail)==null?void 0:V.node)==null?void 0:q.altText)||((E=(A=t.blog)==null?void 0:A.blogContent)==null?void 0:E.title),class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,be)):(l(),s("div",he," No Image Available "))]}),_:2},1032,["to"])]),(f=(h=t.blog)==null?void 0:h.blogContent)!=null&&f.publishedDate?(l(),s("div",ve,d(M(t.blog.blogContent.publishedDate)),1)):F("",!0),o("h3",me,[k(n,{to:`/blogs/${t.slug}`},{default:C(()=>{var u,g;return[L(d(((g=(u=t.blog)==null?void 0:u.blogContent)==null?void 0:g.title)||t.title),1)]}),_:2},1032,["to"])]),o("p",fe,d((p=(x=t.blog)==null?void 0:x.blogContent)==null?void 0:p.teaser),1),k(n,{to:`/blogs/${t.slug}`,class:"inline-flex items-center text-black text-sm border-b border-black pb-0.5 hover:text-gray-700 hover:border-gray-700 transition-colors"},{default:C(()=>e[4]||(e[4]=[L(" Continue Reading "),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])),_:2},1032,["to"])])}),128))])):(l(),s("div",xe,"No blog posts available.")),$.value>1?(l(),s("div",pe,[(l(!0),s(G,null,H($.value,t=>(l(),s("button",{key:t,class:Q(["w-10 h-10 flex items-center justify-center border border-gray-300 hover:border-black transition-colors",{"bg-black text-white":j.value===t}]),onClick:h=>O(t)},d(t),11,_e))),128))])):F("",!0)]))])}}});export{Ce as default};
